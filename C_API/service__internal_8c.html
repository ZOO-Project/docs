<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ZOO-Project: service_internal.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ZOO-Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">service_internal.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;cpl_vsi.h&quot;</code><br />
<code>#include &quot;<a class="el" href="service__internal_8h_source.html">service_internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="service__callback_8h_source.html">service_callback.h</a>&quot;</code><br />
<code>#include &quot;dirent.h&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:unionsemun"><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service__internal_8c.html#unionsemun">semun</a></td></tr>
<tr class="memdesc:unionsemun"><td class="mdescLeft">&#160;</td><td class="mdescRight">arg for semctl system calls.  <a href="service__internal_8c.html#unionsemun">More...</a><br /></td></tr>
<tr class="separator:unionsemun"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a0e6d20c5075b52b0f0bc4858d51c8591"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service__internal_8c.html#a0e6d20c5075b52b0f0bc4858d51c8591">_LARGEFILE64_SOURCE</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a0e6d20c5075b52b0f0bc4858d51c8591"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9a1c83687bc64b1c898ecf055f0838d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service__internal_8c.html#aa9a1c83687bc64b1c898ecf055f0838d">ERROR_MSG_MAX_LENGTH</a>&#160;&#160;&#160;1024</td></tr>
<tr class="separator:aa9a1c83687bc64b1c898ecf055f0838d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecf13b8dc783db2202ca5c34fe117fc3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service__internal_8c.html#aecf13b8dc783db2202ca5c34fe117fc3">MAX_RETRIES</a>&#160;&#160;&#160;10</td></tr>
<tr class="memdesc:aecf13b8dc783db2202ca5c34fe117fc3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of time to try to access a semaphores set.  <a href="service__internal_8c.html#aecf13b8dc783db2202ca5c34fe117fc3">More...</a><br /></td></tr>
<tr class="separator:aecf13b8dc783db2202ca5c34fe117fc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa8c1042e9d6be22aac67d60565887494"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="service__internal_8h.html#structzooLock">zooLock</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service__internal_8c.html#aa8c1042e9d6be22aac67d60565887494">lockFile</a> (<a class="el" href="service_8h.html#structmaps">maps</a> *conf, const char *filename, const char mode)</td></tr>
<tr class="memdesc:aa8c1042e9d6be22aac67d60565887494"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lock a file for read, write and upload.  <a href="service__internal_8c.html#aa8c1042e9d6be22aac67d60565887494">More...</a><br /></td></tr>
<tr class="separator:aa8c1042e9d6be22aac67d60565887494"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87abd2b47427aefc6092ad93486935d1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service__internal_8c.html#a87abd2b47427aefc6092ad93486935d1">unlockFile</a> (<a class="el" href="service_8h.html#structmaps">maps</a> *conf, struct <a class="el" href="service__internal_8h.html#structzooLock">zooLock</a> *s)</td></tr>
<tr class="memdesc:a87abd2b47427aefc6092ad93486935d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a lock.  <a href="service__internal_8c.html#a87abd2b47427aefc6092ad93486935d1">More...</a><br /></td></tr>
<tr class="separator:a87abd2b47427aefc6092ad93486935d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b821eb7ec7b42f0ebda6d19736d1bdf"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service__internal_8c.html#a8b821eb7ec7b42f0ebda6d19736d1bdf">getStatusId</a> (<a class="el" href="service_8h.html#structmaps">maps</a> *conf, char *pid)</td></tr>
<tr class="memdesc:a8b821eb7ec7b42f0ebda6d19736d1bdf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the sid file attached of a service if any.  <a href="service__internal_8c.html#a8b821eb7ec7b42f0ebda6d19736d1bdf">More...</a><br /></td></tr>
<tr class="separator:a8b821eb7ec7b42f0ebda6d19736d1bdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a574fba97b9e9487b5a8028cbae70999e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="service__internal_8h.html#a5657ceb545e598e97ae6be27af398f67">semid</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service__internal_8c.html#a574fba97b9e9487b5a8028cbae70999e">acquireLock</a> (<a class="el" href="service_8h.html#structmaps">maps</a> *conf)</td></tr>
<tr class="memdesc:a574fba97b9e9487b5a8028cbae70999e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Acquire the global lock.  <a href="service__internal_8c.html#a574fba97b9e9487b5a8028cbae70999e">More...</a><br /></td></tr>
<tr class="separator:a574fba97b9e9487b5a8028cbae70999e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ac16af7954436631696455fa4fbe9af"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service__internal_8c.html#a2ac16af7954436631696455fa4fbe9af">_getStatusFile</a> (<a class="el" href="service_8h.html#structmaps">maps</a> *conf, char *pid)</td></tr>
<tr class="memdesc:a2ac16af7954436631696455fa4fbe9af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the cache file of a running service.  <a href="service__internal_8c.html#a2ac16af7954436631696455fa4fbe9af">More...</a><br /></td></tr>
<tr class="separator:a2ac16af7954436631696455fa4fbe9af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcea19c67d14604b6e78490272d21221"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service__internal_8c.html#abcea19c67d14604b6e78490272d21221">_getStatus</a> (<a class="el" href="service_8h.html#structmaps">maps</a> *conf, char *lid)</td></tr>
<tr class="memdesc:abcea19c67d14604b6e78490272d21221"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the ongoing status of a running service.  <a href="service__internal_8c.html#abcea19c67d14604b6e78490272d21221">More...</a><br /></td></tr>
<tr class="separator:abcea19c67d14604b6e78490272d21221"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1bca181e3b8efd40b3f947e9fedd285"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service__internal_8c.html#ae1bca181e3b8efd40b3f947e9fedd285">unhandleStatus</a> (<a class="el" href="service_8h.html#structmaps">maps</a> *conf)</td></tr>
<tr class="memdesc:ae1bca181e3b8efd40b3f947e9fedd285"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop handling status repport.  <a href="service__internal_8c.html#ae1bca181e3b8efd40b3f947e9fedd285">More...</a><br /></td></tr>
<tr class="separator:ae1bca181e3b8efd40b3f947e9fedd285"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2daa9962fa8066dd8c40219bd16bd806"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service__internal_8c.html#a2daa9962fa8066dd8c40219bd16bd806">_updateStatus</a> (<a class="el" href="service_8h.html#structmaps">maps</a> *conf)</td></tr>
<tr class="memdesc:a2daa9962fa8066dd8c40219bd16bd806"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the current status of the running service.  <a href="service__internal_8c.html#a2daa9962fa8066dd8c40219bd16bd806">More...</a><br /></td></tr>
<tr class="separator:a2daa9962fa8066dd8c40219bd16bd806"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00650db79ea32b742a26650f736eaf51"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service__internal_8c.html#a00650db79ea32b742a26650f736eaf51">getKeyValue</a> (<a class="el" href="service_8h.html#structmaps">maps</a> *conf)</td></tr>
<tr class="memdesc:a00650db79ea32b742a26650f736eaf51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set in the pre-allocated key the zoo_sem_[OSID] string where [OSID] is the lid (if any) or osid value from the [lenv] section.  <a href="service__internal_8c.html#a00650db79ea32b742a26650f736eaf51">More...</a><br /></td></tr>
<tr class="separator:a00650db79ea32b742a26650f736eaf51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a649d73429bd8fdc853ae0c8f78ffcc52"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service__internal_8c.html#a649d73429bd8fdc853ae0c8f78ffcc52">getShmLockId</a> (<a class="el" href="service_8h.html#structmaps">maps</a> *conf, int nsems)</td></tr>
<tr class="memdesc:a649d73429bd8fdc853ae0c8f78ffcc52"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to create or access a semaphore set.  <a href="service__internal_8c.html#a649d73429bd8fdc853ae0c8f78ffcc52">More...</a><br /></td></tr>
<tr class="separator:a649d73429bd8fdc853ae0c8f78ffcc52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f1cf6401f61a2bc354beb285c654a29"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service__internal_8c.html#a2f1cf6401f61a2bc354beb285c654a29">removeShmLock</a> (<a class="el" href="service_8h.html#structmaps">maps</a> *conf, int nsems)</td></tr>
<tr class="memdesc:a2f1cf6401f61a2bc354beb285c654a29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to remove a semaphore set.  <a href="service__internal_8c.html#a2f1cf6401f61a2bc354beb285c654a29">More...</a><br /></td></tr>
<tr class="separator:a2f1cf6401f61a2bc354beb285c654a29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02474d6f644960411d4b4ad3bcdfeac8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service__internal_8c.html#a02474d6f644960411d4b4ad3bcdfeac8">lockShm</a> (int id)</td></tr>
<tr class="memdesc:a02474d6f644960411d4b4ad3bcdfeac8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lock a semaphore set.  <a href="service__internal_8c.html#a02474d6f644960411d4b4ad3bcdfeac8">More...</a><br /></td></tr>
<tr class="separator:a02474d6f644960411d4b4ad3bcdfeac8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeee1038a2449d079a57d66222767c407"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service__internal_8c.html#aeee1038a2449d079a57d66222767c407">unlockShm</a> (int id)</td></tr>
<tr class="memdesc:aeee1038a2449d079a57d66222767c407"><td class="mdescLeft">&#160;</td><td class="mdescRight">unLock a semaphore set.  <a href="service__internal_8c.html#aeee1038a2449d079a57d66222767c407">More...</a><br /></td></tr>
<tr class="separator:aeee1038a2449d079a57d66222767c407"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5bbb390fbc9d1e25b10d4a583a7c107"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service__internal_8c.html#ac5bbb390fbc9d1e25b10d4a583a7c107">getStatus</a> (int pid)</td></tr>
<tr class="memdesc:ac5bbb390fbc9d1e25b10d4a583a7c107"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current status of the running service.  <a href="service__internal_8c.html#ac5bbb390fbc9d1e25b10d4a583a7c107">More...</a><br /></td></tr>
<tr class="separator:ac5bbb390fbc9d1e25b10d4a583a7c107"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc62fd8b6de027ec80893ce4289d16c1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service__internal_8c.html#afc62fd8b6de027ec80893ce4289d16c1">updateStatus</a> (<a class="el" href="service_8h.html#structmaps">maps</a> *conf, const int percentCompleted, const char *message)</td></tr>
<tr class="memdesc:afc62fd8b6de027ec80893ce4289d16c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the status of an ongoing service.  <a href="service__internal_8c.html#afc62fd8b6de027ec80893ce4289d16c1">More...</a><br /></td></tr>
<tr class="separator:afc62fd8b6de027ec80893ce4289d16c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a587a66114d3ed8d62e00277d74ac4650"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service__internal_8c.html#a587a66114d3ed8d62e00277d74ac4650">getInputValue</a> (<a class="el" href="service_8h.html#structmaps">maps</a> *inputs, const char *parameterName, size_t *numberOfBytes)</td></tr>
<tr class="memdesc:a587a66114d3ed8d62e00277d74ac4650"><td class="mdescLeft">&#160;</td><td class="mdescRight">Access an input value.  <a href="service__internal_8c.html#a587a66114d3ed8d62e00277d74ac4650">More...</a><br /></td></tr>
<tr class="separator:a587a66114d3ed8d62e00277d74ac4650"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb318a8008403036a46649572c162980"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service__internal_8c.html#aeb318a8008403036a46649572c162980">readVSIFile</a> (<a class="el" href="service_8h.html#structmaps">maps</a> *conf, const char *dataSource)</td></tr>
<tr class="memdesc:aeb318a8008403036a46649572c162980"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a file using the GDAL VSI API.  <a href="service__internal_8c.html#aeb318a8008403036a46649572c162980">More...</a><br /></td></tr>
<tr class="separator:aeb318a8008403036a46649572c162980"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88e39bc01f6f2f8aaceef6a320a9cbe5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service__internal_8c.html#a88e39bc01f6f2f8aaceef6a320a9cbe5">setOutputValue</a> (<a class="el" href="service_8h.html#structmaps">maps</a> *outputs, const char *parameterName, char *<a class="el" href="service__conf_8y.html#a9eab91667db4d35c7231dcddf7b89a76">data</a>, size_t numberOfBytes)</td></tr>
<tr class="memdesc:a88e39bc01f6f2f8aaceef6a320a9cbe5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set an output value.  <a href="service__internal_8c.html#a88e39bc01f6f2f8aaceef6a320a9cbe5">More...</a><br /></td></tr>
<tr class="separator:a88e39bc01f6f2f8aaceef6a320a9cbe5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84b1195f9c0bcd44901b69749edb5572"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service__internal_8c.html#a84b1195f9c0bcd44901b69749edb5572">file_exists</a> (const char *dir, const char *name)</td></tr>
<tr class="memdesc:a84b1195f9c0bcd44901b69749edb5572"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if file exists in specified folder.  <a href="service__internal_8c.html#a84b1195f9c0bcd44901b69749edb5572">More...</a><br /></td></tr>
<tr class="separator:a84b1195f9c0bcd44901b69749edb5572"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2adf64278877032a09d2312d0387d4c1"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service__internal_8c.html#a2adf64278877032a09d2312d0387d4c1">_getStatusField</a> (<a class="el" href="service_8h.html#structmaps">maps</a> *conf, char *a, const char *b)</td></tr>
<tr class="separator:a2adf64278877032a09d2312d0387d4c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f7271807efeb5bb51d09fa2e67c0be3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service__internal_8c.html#a5f7271807efeb5bb51d09fa2e67c0be3">isAsyncCall</a> (<a class="el" href="service_8h.html#structmaps">maps</a> *pmsConf)</td></tr>
<tr class="memdesc:a5f7271807efeb5bb51d09fa2e67c0be3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Verify if an Execute request has been invoked asynchronously.  <a href="service__internal_8c.html#a5f7271807efeb5bb51d09fa2e67c0be3">More...</a><br /></td></tr>
<tr class="separator:a5f7271807efeb5bb51d09fa2e67c0be3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a541df8f0aececd1e4d0f2321e9228f33"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service__internal_8c.html#a541df8f0aececd1e4d0f2321e9228f33">hasDbs</a> (<a class="el" href="service_8h.html#structmaps">maps</a> *pmsConf)</td></tr>
<tr class="memdesc:a541df8f0aececd1e4d0f2321e9228f33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Verify if the server rely on database backend.  <a href="service__internal_8c.html#a541df8f0aececd1e4d0f2321e9228f33">More...</a><br /></td></tr>
<tr class="separator:a541df8f0aececd1e4d0f2321e9228f33"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="unionsemun" id="unionsemun"></a>
<h2 class="memtitle"><span class="permalink"><a href="#unionsemun">&#9670;&nbsp;</a></span>semun</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">union semun</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>arg for semctl system calls. </p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="aa6a9d59cbefa96dc08028d60bff29267"></a>ushort *</td>
<td class="fieldname">
array</td>
<td class="fielddoc">
array for GETALL &amp; SETALL </td></tr>
<tr><td class="fieldtype">
<a id="ac6b6428d07d4147fd2cc698b53555bed"></a>struct semid_ds *</td>
<td class="fieldname">
buf</td>
<td class="fielddoc">
buffer for IPC_STAT &amp; IPC_SET </td></tr>
<tr><td class="fieldtype">
<a id="ac6121ecb6d04a024e07e12bd71b94031"></a>int</td>
<td class="fieldname">
val</td>
<td class="fielddoc">
value for SETVAL </td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a0e6d20c5075b52b0f0bc4858d51c8591"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e6d20c5075b52b0f0bc4858d51c8591">&#9670;&nbsp;</a></span>_LARGEFILE64_SOURCE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _LARGEFILE64_SOURCE&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa9a1c83687bc64b1c898ecf055f0838d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9a1c83687bc64b1c898ecf055f0838d">&#9670;&nbsp;</a></span>ERROR_MSG_MAX_LENGTH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ERROR_MSG_MAX_LENGTH&#160;&#160;&#160;1024</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aecf13b8dc783db2202ca5c34fe117fc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecf13b8dc783db2202ca5c34fe117fc3">&#9670;&nbsp;</a></span>MAX_RETRIES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_RETRIES&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of time to try to access a semaphores set. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="service__internal_8c.html#a649d73429bd8fdc853ae0c8f78ffcc52" title="Try to create or access a semaphore set.">getShmLockId</a> </dd></dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="abcea19c67d14604b6e78490272d21221"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcea19c67d14604b6e78490272d21221">&#9670;&nbsp;</a></span>_getStatus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* _getStatus </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="service_8h.html#structmaps">maps</a> *&#160;</td>
          <td class="paramname"><em>conf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>lid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the ongoing status of a running service. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conf</td><td>the maps containing the setting of the main.cfg file </td></tr>
    <tr><td class="paramname">pid</td><td>the service identifier (usid key from the [lenv] section) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the reported status char* (MESSAGE|POURCENTAGE) </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>make sure to free resources returned by this function </dd></dl>

</div>
</div>
<a id="a2adf64278877032a09d2312d0387d4c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2adf64278877032a09d2312d0387d4c1">&#9670;&nbsp;</a></span>_getStatusField()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* _getStatusField </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="service_8h.html#structmaps">maps</a> *&#160;</td>
          <td class="paramname"><em>conf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2ac16af7954436631696455fa4fbe9af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ac16af7954436631696455fa4fbe9af">&#9670;&nbsp;</a></span>_getStatusFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* _getStatusFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="service_8h.html#structmaps">maps</a> *&#160;</td>
          <td class="paramname"><em>conf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>pid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read the cache file of a running service. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conf</td><td>the maps containing the setting of the main.cfg file </td></tr>
    <tr><td class="paramname">pid</td><td>the service identifier (usid key from the [lenv] section) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the reported status char* (temporary/final result) </dd></dl>

</div>
</div>
<a id="a2daa9962fa8066dd8c40219bd16bd806"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2daa9962fa8066dd8c40219bd16bd806">&#9670;&nbsp;</a></span>_updateStatus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int _updateStatus </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="service_8h.html#structmaps">maps</a> *&#160;</td>
          <td class="paramname"><em>conf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update the current status of the running service. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="service__internal_8c.html#a574fba97b9e9487b5a8028cbae70999e" title="Acquire the global lock.">acquireLock</a>, <a class="el" href="service__internal_8c.html#a02474d6f644960411d4b4ad3bcdfeac8" title="Lock a semaphore set.">lockShm</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conf</td><td>the map containing the setting of the main.cfg file </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -2 if shmget failed, -1 if shmat failed </dd></dl>

</div>
</div>
<a id="a574fba97b9e9487b5a8028cbae70999e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a574fba97b9e9487b5a8028cbae70999e">&#9670;&nbsp;</a></span>acquireLock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="service__internal_8h.html#a5657ceb545e598e97ae6be27af398f67">semid</a> acquireLock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="service_8h.html#structmaps">maps</a> *&#160;</td>
          <td class="paramname"><em>conf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Acquire the global lock. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conf</td><td>the maps containing the setting of the main.cfg file </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a semid </dd></dl>

</div>
</div>
<a id="a84b1195f9c0bcd44901b69749edb5572"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84b1195f9c0bcd44901b69749edb5572">&#9670;&nbsp;</a></span>file_exists()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* file_exists </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if file exists in specified folder. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dir</td><td>the folder in which to search for file </td></tr>
    <tr><td class="paramname">name</td><td>the name of the file (not full path) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a character string with the full path [dir/name], or NULL if the file does not exist</dd></dl>
<dl class="section attention"><dt>Attention</dt><dd>Caller is responsible for applying <a class="el" href="main__conf__read_8y.html#a95877b5c0327fc954b2ae09dede70478">free()</a> to the returned pointer </dd></dl>

</div>
</div>
<a id="a587a66114d3ed8d62e00277d74ac4650"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a587a66114d3ed8d62e00277d74ac4650">&#9670;&nbsp;</a></span>getInputValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* getInputValue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="service_8h.html#structmaps">maps</a> *&#160;</td>
          <td class="paramname"><em>inputs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>parameterName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>numberOfBytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Access an input value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inputs</td><td>the maps to search for the input value </td></tr>
    <tr><td class="paramname">parameterName</td><td>the input name to fetch the value </td></tr>
    <tr><td class="paramname">numberOfBytes</td><td>the resulting size of the value to add (for binary values), -1 for basic char* data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to the input value if found, NULL in other case. </dd></dl>

</div>
</div>
<a id="a00650db79ea32b742a26650f736eaf51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00650db79ea32b742a26650f736eaf51">&#9670;&nbsp;</a></span>getKeyValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getKeyValue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="service_8h.html#structmaps">maps</a> *&#160;</td>
          <td class="paramname"><em>conf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set in the pre-allocated key the zoo_sem_[OSID] string where [OSID] is the lid (if any) or osid value from the [lenv] section. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conf</td><td>the map containing the setting of the main.cfg file </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a649d73429bd8fdc853ae0c8f78ffcc52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a649d73429bd8fdc853ae0c8f78ffcc52">&#9670;&nbsp;</a></span>getShmLockId()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getShmLockId </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="service_8h.html#structmaps">maps</a> *&#160;</td>
          <td class="paramname"><em>conf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nsems</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Try to create or access a semaphore set. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="service__internal_8c.html#a00650db79ea32b742a26650f736eaf51" title="Set in the pre-allocated key the zoo_sem_[OSID] string where [OSID] is the lid (if any) or osid value...">getKeyValue</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conf</td><td>the map containing the setting of the main.cfg file </td></tr>
    <tr><td class="paramname">nsems</td><td>number of semaphores </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a semaphores set indentifier on success, -1 in other case </dd></dl>

</div>
</div>
<a id="ac5bbb390fbc9d1e25b10d4a583a7c107"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5bbb390fbc9d1e25b10d4a583a7c107">&#9670;&nbsp;</a></span>getStatus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* getStatus </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the current status of the running service. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="service__internal_8c.html#a00650db79ea32b742a26650f736eaf51" title="Set in the pre-allocated key the zoo_sem_[OSID] string where [OSID] is the lid (if any) or osid value...">getKeyValue</a>, <a class="el" href="service__internal_8c.html#a649d73429bd8fdc853ae0c8f78ffcc52" title="Try to create or access a semaphore set.">getShmLockId</a>, <a class="el" href="service__internal_8c.html#a02474d6f644960411d4b4ad3bcdfeac8" title="Lock a semaphore set.">lockShm</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td>the semaphores </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -2 if shmget failed, -1 if shmat failed </dd></dl>

</div>
</div>
<a id="a8b821eb7ec7b42f0ebda6d19736d1bdf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b821eb7ec7b42f0ebda6d19736d1bdf">&#9670;&nbsp;</a></span>getStatusId()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* getStatusId </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="service_8h.html#structmaps">maps</a> *&#160;</td>
          <td class="paramname"><em>conf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>pid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read the sid file attached of a service if any. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conf</td><td>the maps containing the setting of the main.cfg file </td></tr>
    <tr><td class="paramname">pid</td><td>the service identifier (usid key from the [lenv] section) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the reported status char* (temporary/final result) </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>make sure to free resources returned by this function </dd></dl>

</div>
</div>
<a id="a541df8f0aececd1e4d0f2321e9228f33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a541df8f0aececd1e4d0f2321e9228f33">&#9670;&nbsp;</a></span>hasDbs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool hasDbs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="service_8h.html#structmaps">maps</a> *&#160;</td>
          <td class="paramname"><em>pmsConf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Verify if the server rely on database backend. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pmsConf</td><td>the maps pointing to the main configuration </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the server rely no database, false otherwise </dd></dl>

</div>
</div>
<a id="a5f7271807efeb5bb51d09fa2e67c0be3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f7271807efeb5bb51d09fa2e67c0be3">&#9670;&nbsp;</a></span>isAsyncCall()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool isAsyncCall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="service_8h.html#structmaps">maps</a> *&#160;</td>
          <td class="paramname"><em>pmsConf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Verify if an Execute request has been invoked asynchronously. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pmsConf</td><td>the maps pointing to the main configuration </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the service should be invoked asynchronously, false otherwise </dd></dl>

</div>
</div>
<a id="aa8c1042e9d6be22aac67d60565887494"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8c1042e9d6be22aac67d60565887494">&#9670;&nbsp;</a></span>lockFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="service__internal_8h.html#structzooLock">zooLock</a>* lockFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="service_8h.html#structmaps">maps</a> *&#160;</td>
          <td class="paramname"><em>conf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Lock a file for read, write and upload. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conf</td><td>the main configuration maps </td></tr>
    <tr><td class="paramname">filename</td><td>the file to lock </td></tr>
    <tr><td class="paramname">mode</td><td>define access: 'r' for read, 'w' for write </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a new <a class="el" href="service__internal_8h.html#structzooLock" title="The lock structure used by the ZOO-Kernel to ensure atomicity of operations.">zooLock</a> structure on sucess, NULL on failure </dd></dl>

</div>
</div>
<a id="a02474d6f644960411d4b4ad3bcdfeac8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02474d6f644960411d4b4ad3bcdfeac8">&#9670;&nbsp;</a></span>lockShm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lockShm </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Lock a semaphore set. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>the semaphores set indetifier </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if the semaphore can be locked, -1 in other case. </dd></dl>

</div>
</div>
<a id="aeb318a8008403036a46649572c162980"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb318a8008403036a46649572c162980">&#9670;&nbsp;</a></span>readVSIFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* readVSIFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="service_8h.html#structmaps">maps</a> *&#160;</td>
          <td class="paramname"><em>conf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dataSource</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read a file using the GDAL VSI API. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conf</td><td>the maps containing the settings of the main.cfg file </td></tr>
    <tr><td class="paramname">dataSource</td><td>the datasource name to read </td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>make sure to free resources returned by this function </dd></dl>

</div>
</div>
<a id="a2f1cf6401f61a2bc354beb285c654a29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f1cf6401f61a2bc354beb285c654a29">&#9670;&nbsp;</a></span>removeShmLock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int removeShmLock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="service_8h.html#structmaps">maps</a> *&#160;</td>
          <td class="paramname"><em>conf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nsems</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Try to remove a semaphore set. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conf</td><td>the map containing the setting of the main.cfg file </td></tr>
    <tr><td class="paramname">nsems</td><td>number of semaphores </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if the semaphore can be removed, -1 in other case. </dd></dl>

</div>
</div>
<a id="a88e39bc01f6f2f8aaceef6a320a9cbe5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88e39bc01f6f2f8aaceef6a320a9cbe5">&#9670;&nbsp;</a></span>setOutputValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int setOutputValue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="service_8h.html#structmaps">maps</a> *&#160;</td>
          <td class="paramname"><em>outputs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>parameterName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>numberOfBytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set an output value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">outputs</td><td>the maps to define the output value </td></tr>
    <tr><td class="paramname">parameterName</td><td>the output name to set the value </td></tr>
    <tr><td class="paramname">data</td><td>the value to set </td></tr>
    <tr><td class="paramname">numberOfBytes</td><td>size of the value to add (for binary values), -1 for basic char* data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 </dd></dl>

</div>
</div>
<a id="ae1bca181e3b8efd40b3f947e9fedd285"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1bca181e3b8efd40b3f947e9fedd285">&#9670;&nbsp;</a></span>unhandleStatus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void unhandleStatus </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="service_8h.html#structmaps">maps</a> *&#160;</td>
          <td class="paramname"><em>conf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop handling status repport. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conf</td><td>the map containing the setting of the main.cfg file </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a87abd2b47427aefc6092ad93486935d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87abd2b47427aefc6092ad93486935d1">&#9670;&nbsp;</a></span>unlockFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int unlockFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="service_8h.html#structmaps">maps</a> *&#160;</td>
          <td class="paramname"><em>conf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="service__internal_8h.html#structzooLock">zooLock</a> *&#160;</td>
          <td class="paramname"><em>s</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove a lock. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conf</td><td>the main configuration maps </td></tr>
    <tr><td class="paramname">s</td><td>the <a class="el" href="service__internal_8h.html#structzooLock" title="The lock structure used by the ZOO-Kernel to ensure atomicity of operations.">zooLock</a> structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure. </dd></dl>

</div>
</div>
<a id="aeee1038a2449d079a57d66222767c407"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeee1038a2449d079a57d66222767c407">&#9670;&nbsp;</a></span>unlockShm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int unlockShm </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>unLock a semaphore set. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>the semaphores set indetifier </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if the semaphore can be locked, -1 in other case. </dd></dl>

</div>
</div>
<a id="afc62fd8b6de027ec80893ce4289d16c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc62fd8b6de027ec80893ce4289d16c1">&#9670;&nbsp;</a></span>updateStatus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int updateStatus </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="service_8h.html#structmaps">maps</a> *&#160;</td>
          <td class="paramname"><em>conf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>percentCompleted</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update the status of an ongoing service. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conf</td><td>the maps containing the settings of the main.cfg file </td></tr>
    <tr><td class="paramname">percentCompleted</td><td>percentage of completude of execution of the service </td></tr>
    <tr><td class="paramname">message</td><td>information about the current step executed </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the value of _updateStatus </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="service__internal_8c.html#a2daa9962fa8066dd8c40219bd16bd806" title="Update the current status of the running service.">_updateStatus</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Aug 23 2023 15:33:42 for ZOO-Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
